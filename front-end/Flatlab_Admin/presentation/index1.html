<!DOCTYPE html>
<head>
    <meta charset="utf-8">
    <title>Language distribution in different Australian cities</title>
    <script>
        setTimeout(function(){
            document.getElementsByTagName('body')[0].style.height = window.innerHeight+'px';
        },20);
    </script>
</head>
<body style="height: 100%; width: 100%">
    <!-- 为ECharts准备一个具备大小（宽高）的Dom -->
    <div id=0 style="min-height: 400px;height: 50%; width: 33%; float: left;"></div>
    <div id=1 style="min-height: 400px;height: 50%; width: 33%; float: left;"></div>
    <div id=2 style="min-height: 400px;height: 50%; width: 33%; float: right;"></div>
    <div id=3 style="min-height: 400px;height: 50%; width: 33%; float: left;"></div>
    <div id=4 style="min-height: 400px;height: 50%; width: 33%; float: left;"></div>
    <div id=5 style="min-height: 400px;height: 50%; width: 33%; float: right;"></div>
    <!-- ECharts单文件引入 -->
    <script src="echarts.common.min.js"></script>
    <script src="jquery-1.12.3.js"></script>
    <script type="text/javascript">
    // 基于准备好的dom，初始化echarts图表
    $.get("http://kk:8080/2",function(data){
        var result = eval('(' + data + ')');
        alert(result)
        var charts = result.charts
        for (i in charts){
            // initialize the chart
            var myChart = echarts.init(document.getElementById(i));    
            option = {
                title : {
                    text: charts[i].title,
                    subtext: 'handsome Uncle9',
                    x:'center'
                },
                tooltip : {
                    trigger: 'item',
                    formatter: "{a} <br/>{b} : {c} ({d}%)"
                },
                toolbox: {
                    show : true,
                    feature : {
                    mark : {show: true},
                    dataView : {show: true, readOnly: false},
                    magicType : {
                    show: true,
                    type: ['pie', 'funnel']
                },
            restore : {show: true},
            saveAsImage : {show: true}
        }
    },
                legend: {
                    orient: 'vertical',
                    left: 'left',
                    data: charts[i].names

                },
                series : [
                    {
                        name: result.title,
                        type: charts[i].type,
                        radius : '50%',
                        center: ['50%', '60%'],
                        data:charts[i].data,
                        itemStyle: {
                            emphasis: {
                                shadowBlur: 10,
                                shadowOffsetX: 0,
                                shadowColor: 'rgba(0, 0, 0, 0.5)'
                            }
                        }
                    }
                ]
            };
            myChart.setOption(option);
        };
    });
        </script>
</body>
</html>